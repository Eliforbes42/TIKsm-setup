var data = stream
	|from()
		.database('telegraf')
		.retentionPolicy('default')
		.measurement('docker_container_status')
		.groupBy('container_name')
	|window()
		.period(1m)
		.every(1m)
data
	|alert().id('Container')
		.message('Docker Container {{index .Tags "container_name" }} is not running')
		.warn(lambda: "container_status" != 'running')
		.slack()
		.stateChangesOnly()
	.log('/tmp/container.tick.log')
